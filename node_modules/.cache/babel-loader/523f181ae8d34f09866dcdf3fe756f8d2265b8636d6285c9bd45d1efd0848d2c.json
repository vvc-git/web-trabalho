{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Tooltip = void 0;\nvar react_1 = __importStar(require(\"react\"));\nvar react_popper_1 = require(\"react-popper\");\nvar useTransition_1 = require(\"../../hooks/useTransition\");\nvar styles_1 = require(\"../../styles\");\nvar string_1 = require(\"../../util/string\");\nvar Portal_1 = require(\"../Portal\");\nvar RootRef_1 = require(\"../RootRef\");\nvar TooltipPopper_1 = require(\"./TooltipPopper\");\nfunction Tooltip(props) {\n  var text = props.text,\n    offset = props.offset,\n    children = props.children,\n    externalStyle = props.style,\n    transitionDelay = props.transitionDelay,\n    container = props.container,\n    rest = __rest(props, [\"text\", \"offset\", \"children\", \"style\", \"transitionDelay\", \"container\"]);\n  var child = react_1.default.Children.only(children);\n  var _a = styles_1.useStyles(createStyles, props),\n    css = _a.css,\n    theme = _a.theme,\n    classes = _a.classes;\n  var _b = react_1.useState(false),\n    visible = _b[0],\n    setVisible = _b[1];\n  var rootRef = react_1.useRef();\n  var _c = react_1.useState(),\n    popperRef = _c[0],\n    setPopperRef = _c[1];\n  var tooltipId = react_1.useMemo(function () {\n    return \"tooltip-\" + string_1.randomStr();\n  }, []);\n  var transitionState = useTransition_1.useTransition(visible, {\n    exitTimeout: transitionDelay\n  });\n  var popperStyles = react_popper_1.usePopper(rootRef.current, popperRef, __assign({\n    modifiers: [{\n      name: 'default',\n      options: {\n        offset: {\n          offset: \"0, \" + theme.typography.sizes.html * offset\n        },\n        preventOverflow: {\n          boundariesElement: 'window'\n        }\n      }\n    }]\n  }, rest)).styles.popper;\n  react_1.useEffect(function () {\n    if (!rootRef || !visible) {\n      return;\n    }\n    var handleWindowPointerOver = function (e) {\n      var _a;\n      // This is implemented using mouseover since mouseleave does not trigger\n      // for disabled elements due to browser/react bugs (https://github.com/facebook/react/issues/4251)\n      var target = e.target;\n      if (!((_a = rootRef.current) === null || _a === void 0 ? void 0 : _a.contains(target))) {\n        setVisible(false);\n      }\n    };\n    window.addEventListener('pointerover', handleWindowPointerOver);\n    return function () {\n      return window.removeEventListener('pointerover', handleWindowPointerOver);\n    };\n  }, [rootRef, visible]);\n  var handlePointerEnter = react_1.useCallback(function (e) {\n    setVisible(true);\n    child.props.onPointerEnter && child.props.onPointerEnter(e);\n  }, []);\n  var handleFocus = react_1.useCallback(function (e) {\n    setVisible(true);\n    child.props.onFocus && child.props.onFocus(e);\n  }, []);\n  var handleBlur = react_1.useCallback(function (e) {\n    setVisible(false);\n    child.props.onBlur && child.props.onBlur(e);\n  }, []);\n  if (!text) {\n    return child;\n  }\n  return react_1.default.createElement(react_1.default.Fragment, null, react_1.default.createElement(RootRef_1.RootRef, {\n    rootRef: rootRef\n  }, react_1.default.cloneElement(child, {\n    title: !visible ? child.props.title || text : child.props.title,\n    'aria-describedby': visible ? tooltipId : undefined,\n    onPointerEnter: handlePointerEnter,\n    onFocus: handleFocus,\n    onBlur: handleBlur\n  })), transitionState !== 'exited' && react_1.default.createElement(Portal_1.Portal, {\n    container: container\n  }, react_1.default.createElement(\"div\", {\n    id: tooltipId,\n    ref: setPopperRef,\n    className: css(classes.popper, transitionState === 'entered' && classes.visible),\n    style: popperStyles,\n    role: 'tooltip',\n    \"aria-hidden\": !visible ? 'true' : 'false'\n  }, react_1.default.createElement(TooltipPopper_1.TooltipPopper, {\n    text: text,\n    style: externalStyle\n  }))));\n}\nexports.Tooltip = Tooltip;\nTooltip.defaultProps = {\n  placement: 'top',\n  offset: 0.25,\n  transitionDelay: 200\n};\nvar createStyles = function (theme, _a) {\n  var transitionDelay = _a.transitionDelay;\n  return {\n    popper: {\n      zIndex: theme.zIndex.tooltip,\n      transition: \"opacity \" + transitionDelay + \"ms ease\",\n      opacity: 0\n    },\n    visible: {\n      opacity: 1\n    }\n  };\n};","map":{"version":3,"names":["react_1","__importStar","require","react_popper_1","useTransition_1","styles_1","string_1","Portal_1","RootRef_1","TooltipPopper_1","Tooltip","props","text","offset","children","externalStyle","style","transitionDelay","container","rest","__rest","child","default","Children","only","_a","useStyles","createStyles","css","theme","classes","_b","useState","visible","setVisible","rootRef","useRef","_c","popperRef","setPopperRef","tooltipId","useMemo","randomStr","transitionState","useTransition","exitTimeout","popperStyles","usePopper","current","__assign","modifiers","name","options","typography","sizes","html","preventOverflow","boundariesElement","styles","popper","useEffect","handleWindowPointerOver","e","target","contains","window","addEventListener","removeEventListener","handlePointerEnter","useCallback","onPointerEnter","handleFocus","onFocus","handleBlur","onBlur","createElement","Fragment","RootRef","cloneElement","title","undefined","Portal","id","ref","className","role","TooltipPopper","exports","defaultProps","placement","zIndex","tooltip","transition","opacity"],"sources":["../../../src/components/Tooltip/Tooltip.tsx"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}