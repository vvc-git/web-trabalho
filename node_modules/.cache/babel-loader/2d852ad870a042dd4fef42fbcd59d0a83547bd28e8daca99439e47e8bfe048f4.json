{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nvar __spreadArrays = this && this.__spreadArrays || function () {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j];\n  return r;\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.defaultColumnStyles = exports.DataTableDefault = exports.DataTable = void 0;\nvar react_1 = __importDefault(require(\"react\"));\nvar styles_1 = require(\"../../../styles\");\nvar Table_1 = require(\"../Table\");\nvar TableFilledBody_1 = require(\"./TableFilledBody\");\nfunction DataTable(props) {\n  var css = styles_1.useCss().css;\n  var getColumn = function (columnName) {\n    return props.columns.find(function (col) {\n      return col.name === columnName;\n    });\n  };\n  var getHeaderProps = function (column) {\n    var col = typeof column === 'string' ? getColumn(column) : column;\n    if (!col) {\n      throw new Error(\"Column '\" + column + \"' not found.\");\n    }\n    var name = col.name,\n      sortable = col.sortable,\n      style = col.style;\n    return {\n      key: name,\n      'data-name': name,\n      sortable: sortable,\n      sortDirection: getSortDirection(col),\n      onSortChange: handleSortChange(col),\n      style: css(exports.defaultColumnStyles(col), style)\n    };\n  };\n  var handleSortChange = function (col) {\n    return function (sortDirection, shiftKey) {\n      if (shiftKey) {\n        props.onSortChange(changeSort(props.sort, col.name, sortDirection));\n      } else {\n        props.onSortChange([sortDirection === 'ASC' ? col.name : \"-\" + col.name]);\n      }\n    };\n  };\n  var getSortDirection = function (col) {\n    var sorts = props.sort || [];\n    var name = col.name;\n    for (var _i = 0, sorts_1 = sorts; _i < sorts_1.length; _i++) {\n      var sort = sorts_1[_i];\n      if (sort === name) {\n        return 'ASC';\n      } else if (sort === \"-\" + name) {\n        return 'DESC';\n      }\n    }\n    return null;\n  };\n  return react_1.default.createElement(react_1.default.Fragment, null, props.render(__assign(__assign({}, props), {\n    getHeaderProps: getHeaderProps,\n    getColumn: getColumn\n  })));\n}\nexports.DataTable = DataTable;\nDataTable.defaultProps = {\n  loading: false,\n  sort: null,\n  onSortChange: function () {\n    return null;\n  },\n  render: function (renderProps) {\n    return react_1.default.createElement(DataTableDefault, __assign({}, renderProps));\n  },\n  onRowClick: null,\n  hovered: true\n};\nfunction DataTableDefault(props) {\n  var columns = props.columns,\n    rows = props.rows,\n    loading = props.loading,\n    onSortChange = props.onSortChange,\n    sort = props.sort,\n    getHeaderProps = props.getHeaderProps,\n    getColumn = props.getColumn,\n    render = props.render,\n    onRowClick = props.onRowClick,\n    rest = __rest(props, [\"columns\", \"rows\", \"loading\", \"onSortChange\", \"sort\", \"getHeaderProps\", \"getColumn\", \"render\", \"onRowClick\"]);\n  return react_1.default.createElement(Table_1.Table, __assign({}, rest), react_1.default.createElement(Table_1.TableHead, null, react_1.default.createElement(Table_1.TableRow, null, columns.map(function (col) {\n    return react_1.default.createElement(Table_1.TableHeader, __assign({\n      key: col.name\n    }, getHeaderProps(col)), col.header);\n  }))), react_1.default.createElement(TableFilledBody_1.TableFilledBody, {\n    rows: rows,\n    columns: columns,\n    loading: loading,\n    onRowClick: onRowClick\n  }));\n}\nexports.DataTableDefault = DataTableDefault;\nvar changeSort = function (sort, name, dir) {\n  var newSort = dir === 'ASC' ? name : \"-\" + name;\n  var swap = false;\n  var newArray = sort.map(function (s) {\n    if (s === name || s === \"-\" + name) {\n      swap = true;\n      return newSort;\n    }\n    return s;\n  });\n  return swap ? newArray : __spreadArrays(newArray, [newSort]);\n};\nexports.defaultColumnStyles = function (col) {\n  return {\n    textAlign: col.align\n  };\n};","map":{"version":3,"names":["react_1","__importDefault","require","styles_1","Table_1","TableFilledBody_1","DataTable","props","css","useCss","getColumn","columnName","columns","find","col","name","getHeaderProps","column","Error","sortable","style","key","sortDirection","getSortDirection","onSortChange","handleSortChange","exports","defaultColumnStyles","shiftKey","changeSort","sort","sorts","_i","sorts_1","length","default","createElement","Fragment","render","__assign","defaultProps","loading","renderProps","DataTableDefault","onRowClick","hovered","rows","rest","__rest","Table","TableHead","TableRow","map","TableHeader","header","TableFilledBody","dir","newSort","swap","newArray","s","__spreadArrays","textAlign","align"],"sources":["../../../../src/components/Table/DataTable/DataTable.tsx"],"sourcesContent":[null],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAAA,OAAA,GAAAC,eAAA,CAAAC,OAAA;AAEA,IAAAC,QAAA,GAAAD,OAAA;AAEA,IAAAE,OAAA,GAAAF,OAAA;AAEA,IAAAG,iBAAA,GAAAH,OAAA;AA0BA,SAAgBI,SAASA,CAAUC,KAAwB;EACjD,IAAAC,GAAG,GAAKL,QAAA,CAAAM,MAAM,EAAE,CAAAD,GAAb;EAEX,IAAME,SAAS,GAAG,SAAAA,CAACC,UAAkB;IACnC,OAAOJ,KAAK,CAACK,OAAO,CAACC,IAAI,CAAC,UAAAC,GAAG;MAAI,OAAAA,GAAG,CAACC,IAAI,KAAKJ,UAAU;IAAvB,CAAuB,CAAC;EAC3D,CAAC;EAED,IAAMK,cAAc,GAAG,SAAAA,CAACC,MAAkC;IACxD,IAAMH,GAAG,GAAG,OAAOG,MAAM,KAAK,QAAQ,GAAGP,SAAS,CAACO,MAAM,CAAC,GAAGA,MAAM;IAEnE,IAAI,CAACH,GAAG,EAAE;MACR,MAAM,IAAII,KAAK,CAAC,aAAWD,MAAM,iBAAc,CAAC;;IAG1C,IAAAF,IAAI,GAAsBD,GAAG,CAAAC,IAAzB;MAAEI,QAAQ,GAAYL,GAAG,CAAAK,QAAf;MAAEC,KAAK,GAAKN,GAAG,CAAAM,KAAR;IAE7B,OAAO;MACLC,GAAG,EAAEN,IAAI;MACT,WAAW,EAAEA,IAAI;MACjBI,QAAQ,EAAAA,QAAA;MACRG,aAAa,EAAEC,gBAAgB,CAACT,GAAG,CAAC;MACpCU,YAAY,EAAEC,gBAAgB,CAACX,GAAG,CAAC;MACnCM,KAAK,EAAEZ,GAAG,CAACkB,OAAA,CAAAC,mBAAmB,CAACb,GAAG,CAAC,EAAEM,KAAK;KAC3C;EACH,CAAC;EAED,IAAMK,gBAAgB,GAAG,SAAAA,CAACX,GAAsB;IAAK,iBAACQ,aAA4B,EAAEM,QAAiB;MACnG,IAAIA,QAAQ,EAAE;QACZrB,KAAK,CAACiB,YAAY,CAACK,UAAU,CAACtB,KAAK,CAACuB,IAAI,EAAEhB,GAAG,CAACC,IAAI,EAAEO,aAAa,CAAC,CAAC;OACpE,MAAM;QACLf,KAAK,CAACiB,YAAY,CAAC,CAACF,aAAa,KAAK,KAAK,GAAGR,GAAG,CAACC,IAAI,GAAG,MAAID,GAAG,CAACC,IAAM,CAAC,CAAC;;IAE7E,CAAC;EANoD,CAMpD;EAED,IAAMQ,gBAAgB,GAAG,SAAAA,CAACT,GAAsB;IAC9C,IAAMiB,KAAK,GAAGxB,KAAK,CAACuB,IAAI,IAAI,EAAE;IAC9B,IAAMf,IAAI,GAAGD,GAAG,CAACC,IAAI;IACrB,KAAmB,IAAAiB,EAAA,IAAK,EAALC,OAAA,GAAAF,KAAK,EAALC,EAAA,GAAAC,OAAA,CAAAC,MAAK,EAALF,EAAA,EAAK,EAAE;MAArB,IAAMF,IAAI,GAAAG,OAAA,CAAAD,EAAA;MACb,IAAIF,IAAI,KAAKf,IAAI,EAAE;QACjB,OAAO,KAAK;OACb,MAAM,IAAIe,IAAI,KAAK,MAAIf,IAAM,EAAE;QAC9B,OAAO,MAAM;;;IAGjB,OAAO,IAAI;EACb,CAAC;EAED,OACEf,OAAA,CAAAmC,OAAA,CAAAC,aAAA,CAAApC,OAAA,CAAAmC,OAAA,CAAAE,QAAA,QACG9B,KAAK,CAAC+B,MAAM,CAAAC,QAAA,CAAAA,QAAA,KACRhC,KAAK;IACRS,cAAc,EAAAA,cAAA;IACdN,SAAS,EAAAA;EAAA,GACT,CACD;AAEP;AAxDAgB,OAAA,CAAApB,SAAA,GAAAA,SAAA;AA0DAA,SAAS,CAACkC,YAAY,GAAG;EACvBC,OAAO,EAAE,KAAK;EACdX,IAAI,EAAE,IAAI;EACVN,YAAY,EAAE,SAAAA,CAAA;IAAM,WAAI;EAAJ,CAAI;EACxBc,MAAM,EAAE,SAAAA,CAACI,WAAiC;IAAK,OAAA1C,OAAA,CAAAmC,OAAA,CAAAC,aAAA,CAACO,gBAAgB,EAAAJ,QAAA,KAAKG,WAAW,EAAI;EAArC,CAAqC;EACpFE,UAAU,EAAE,IAAI;EAChBC,OAAO,EAAE;CACsB;AAEjC,SAAgBF,gBAAgBA,CAACpC,KAA2B;EAClD,IAAAK,OAAO,GAAgGL,KAAK,CAAAK,OAArG;IAAEkC,IAAI,GAA0FvC,KAAK,CAAAuC,IAA/F;IAAEL,OAAO,GAAiFlC,KAAK,CAAAkC,OAAtF;IAAEjB,YAAY,GAAmEjB,KAAK,CAAAiB,YAAxE;IAAEM,IAAI,GAA6DvB,KAAK,CAAAuB,IAAlE;IAAEd,cAAc,GAA6CT,KAAK,CAAAS,cAAlD;IAAEN,SAAS,GAAkCH,KAAK,CAAAG,SAAvC;IAAE4B,MAAM,GAA0B/B,KAAK,CAAA+B,MAA/B;IAAEM,UAAU,GAAcrC,KAAK,CAAAqC,UAAnB;IAAKG,IAAI,GAAAC,MAAA,CAAKzC,KAAK,EAA9G,6GAAsG,CAAF;EAE1G,OACEP,OAAA,CAAAmC,OAAA,CAAAC,aAAA,CAAChC,OAAA,CAAA6C,KAAK,EAAAV,QAAA,KAAKQ,IAAI,GACb/C,OAAA,CAAAmC,OAAA,CAAAC,aAAA,CAAChC,OAAA,CAAA8C,SAAS,QACRlD,OAAA,CAAAmC,OAAA,CAAAC,aAAA,CAAChC,OAAA,CAAA+C,QAAQ,QACNvC,OAAO,CAACwC,GAAG,CAAC,UAAAtC,GAAG;IAAI,OAClBd,OAAA,CAAAmC,OAAA,CAAAC,aAAA,CAAChC,OAAA,CAAAiD,WAAW,EAAAd,QAAA;MAAClB,GAAG,EAAEP,GAAG,CAACC;IAAI,GAAMC,cAAc,CAACF,GAAG,CAAC,GAChDA,GAAG,CAACwC,MAAM,CACC;EAHI,CAInB,CAAC,CACO,CACD,EACZtD,OAAA,CAAAmC,OAAA,CAAAC,aAAA,CAAC/B,iBAAA,CAAAkD,eAAe;IAACT,IAAI,EAAEA,IAAI;IAAElC,OAAO,EAAEA,OAAO;IAAE6B,OAAO,EAAEA,OAAO;IAAEG,UAAU,EAAEA;EAAU,EAAI,CACrF;AAEZ;AAjBAlB,OAAA,CAAAiB,gBAAA,GAAAA,gBAAA;AAmBA,IAAMd,UAAU,GAAG,SAAAA,CAACC,IAAc,EAAEf,IAAY,EAAEyC,GAAkB;EAClE,IAAMC,OAAO,GAAGD,GAAG,KAAK,KAAK,GAAGzC,IAAI,GAAG,MAAIA,IAAM;EACjD,IAAI2C,IAAI,GAAG,KAAK;EAChB,IAAMC,QAAQ,GAAG7B,IAAI,CAACsB,GAAG,CAAC,UAAAQ,CAAC;IACzB,IAAIA,CAAC,KAAK7C,IAAI,IAAI6C,CAAC,KAAK,MAAI7C,IAAM,EAAE;MAClC2C,IAAI,GAAG,IAAI;MACX,OAAOD,OAAO;;IAEhB,OAAOG,CAAC;EACV,CAAC,CAAC;EACF,OAAOF,IAAI,GAAGC,QAAQ,GAAEE,cAAA,CAAKF,QAAQ,GAAEF,OAAO,EAAC;AACjD,CAAC;AAEY/B,OAAA,CAAAC,mBAAmB,GAAG,UAACb,GAAsB;EAAK,OAAC;IAC9DgD,SAAS,EAAEhD,GAAG,CAACiD;GAChB;AAF8D,CAE7D"},"metadata":{},"sourceType":"script","externalDependencies":[]}