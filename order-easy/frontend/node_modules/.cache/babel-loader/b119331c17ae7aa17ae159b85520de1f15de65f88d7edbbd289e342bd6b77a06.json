{"ast":null,"code":"\"use strict\";\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MonthPaginator = void 0;\nvar react_1 = __importStar(require(\"react\"));\nvar react_popper_1 = require(\"react-popper\");\nvar emotion_1 = require(\"emotion\");\nvar i18n_1 = require(\"../../i18n\");\nvar styles_1 = require(\"../../styles\");\nvar locale_1 = require(\"../../util/locale\");\nvar Button_1 = require(\"../Button\");\nvar Icon_1 = require(\"../Icon\");\nvar HFlow_1 = require(\"../HFlow\");\nvar MonthPicker_1 = require(\"../MonthPicker/MonthPicker\");\nvar Text_1 = require(\"../Text\");\nvar Tooltip_1 = require(\"../Tooltip\");\nvar FocusManagerContainer_1 = require(\"../FocusManagerContainer\");\nfunction MonthPaginator(props) {\n  var month = props.month,\n    year = props.year,\n    isOpen = props.isOpen,\n    ghost = props.ghost,\n    popperPlacement = props.popperPlacement,\n    formatter = props.formatter,\n    onChange = props.onChange;\n  var locale = i18n_1.useLocale();\n  var _a = react_1.useState(isOpen),\n    open = _a[0],\n    setOpen = _a[1];\n  var _b = styles_1.useStyles(createStyles, open).classes,\n    container = _b.container,\n    ghostContainer = _b.ghostContainer,\n    showMonth = _b.showMonth,\n    popup = _b.popup;\n  var _c = react_1.useState(month),\n    visibleMonth = _c[0],\n    setVisibleMonth = _c[1];\n  react_1.useEffect(function () {\n    setVisibleMonth(month);\n  }, [month]);\n  var _d = react_1.useState(year),\n    visibleYear = _d[0],\n    setVisibleYear = _d[1];\n  react_1.useEffect(function () {\n    setVisibleYear(year);\n  }, [year]);\n  var _e = react_1.useState(),\n    anchorRef = _e[0],\n    setAnchorRef = _e[1];\n  var _f = react_1.useState(),\n    popperRef = _f[0],\n    setPopperRef = _f[1];\n  var _g = react_popper_1.usePopper(anchorRef, popperRef, {\n      placement: popperPlacement\n    }),\n    popperStyle = _g.styles.popper,\n    placement = _g.attributes.placement;\n  var updateStates = function (newMonth) {\n    setVisibleMonth(newMonth.month);\n    setVisibleYear(newMonth.year);\n    onChange && onChange(newMonth);\n  };\n  var onPrevClick = function () {\n    if (open) setVisibleYear(function (currYear) {\n      return currYear - 1;\n    });else {\n      var newMonth = visibleMonth === 0 ? 11 : visibleMonth - 1;\n      var newYear = visibleMonth === 0 ? visibleYear - 1 : visibleYear;\n      updateStates({\n        month: newMonth,\n        year: newYear\n      });\n    }\n  };\n  var onNextClick = function () {\n    if (open) setVisibleYear(function (currYear) {\n      return currYear + 1;\n    });else {\n      var newMonth = visibleMonth === 11 ? 0 : visibleMonth + 1;\n      var newYear = visibleMonth === 11 ? visibleYear + 1 : visibleYear;\n      updateStates({\n        month: newMonth,\n        year: newYear\n      });\n    }\n  };\n  var onMonthClick = function (month) {\n    updateStates(month);\n    setOpen(!open);\n  };\n  var onVisibleMonthChange = function (month) {\n    return updateStates(month);\n  };\n  var handleShowMonthsClick = function () {\n    return setOpen(!open);\n  };\n  var handleFocusOut = function () {\n    return setOpen(false);\n  };\n  react_1.useEffect(function () {\n    open && (popperRef === null || popperRef === void 0 ? void 0 : popperRef.focus());\n  }, [open, popperRef]);\n  var baseYearDate = new Date(visibleYear, visibleMonth, 1, 0, 0, 0, 0);\n  var yearFormatter = new Intl.DateTimeFormat(locale_1.getUserLocale(), {\n    year: 'numeric'\n  });\n  var monthFormatter = locale_1.getMonthShortFormat(baseYearDate, formatter);\n  return react_1.default.createElement(FocusManagerContainer_1.FocusManagerContainer, {\n    onFocusOut: handleFocusOut\n  }, react_1.default.createElement(\"div\", {\n    className: ghost ? ghostContainer : container,\n    ref: setAnchorRef\n  }, react_1.default.createElement(HFlow_1.HFlow, {\n    alignItems: 'center'\n  }, react_1.default.createElement(Tooltip_1.Tooltip, {\n    text: locale.calendar.previousMonth\n  }, react_1.default.createElement(Button_1.Button, {\n    disabled: open,\n    size: 'small',\n    skin: 'ghost',\n    onClick: onPrevClick,\n    \"data-testid\": 'MonthPaginator.PrevButton'\n  }, react_1.default.createElement(Icon_1.Icon, {\n    icon: 'angleLeft'\n  }))), react_1.default.createElement(Tooltip_1.Tooltip, {\n    text: locale.monthPaginator.show\n  }, react_1.default.createElement(Button_1.Button, {\n    size: 'small',\n    skin: 'ghost',\n    disabled: false,\n    onClick: handleShowMonthsClick,\n    style: showMonth,\n    \"data-testid\": 'MonthPaginator.ShowMonthsButton'\n  }, react_1.default.createElement(Text_1.Text, {\n    fontWeight: 'bold',\n    fontSize: 0.875\n  }, monthFormatter + \" - \", yearFormatter.format(baseYearDate)))), react_1.default.createElement(Tooltip_1.Tooltip, {\n    text: locale.calendar.nextMonth\n  }, react_1.default.createElement(Button_1.Button, {\n    disabled: open,\n    size: 'small',\n    skin: 'ghost',\n    onClick: onNextClick,\n    \"data-testid\": 'MonthPaginator.NextButton'\n  }, react_1.default.createElement(Icon_1.Icon, {\n    icon: 'angleRight'\n  }))))), open && react_1.default.createElement(MonthPicker_1.MonthPicker, {\n    visibleMonth: {\n      month: visibleMonth,\n      year: visibleYear\n    },\n    onVisibleMonthChange: onVisibleMonthChange,\n    onMonthClick: onMonthClick,\n    ref: setPopperRef,\n    className: emotion_1.css(popup, popperStyle),\n    \"data-placement\": placement\n  }));\n}\nexports.MonthPaginator = MonthPaginator;\nMonthPaginator.defaultProps = {\n  isOpen: false,\n  popperPlacement: 'bottom-start',\n  month: new Date().getMonth(),\n  year: new Date().getFullYear()\n};\nvar createStyles = function (theme, open) {\n  return {\n    container: {\n      display: 'inline-block',\n      padding: '1rem 0.5rem',\n      backgroundColor: theme.pallete.surface.main,\n      border: \"1px solid \" + theme.pallete.divider,\n      boxShadow: theme.shadows.outer['20'],\n      borderRadius: theme.radius.popper\n    },\n    ghostContainer: {\n      padding: '-2rem'\n    },\n    showMonth: {\n      margin: 'auto -1rem'\n    },\n    popup: {\n      zIndex: theme.zIndex.popper\n    }\n  };\n};","map":{"version":3,"names":["react_1","__importStar","require","react_popper_1","emotion_1","i18n_1","styles_1","locale_1","Button_1","Icon_1","HFlow_1","MonthPicker_1","Text_1","Tooltip_1","FocusManagerContainer_1","MonthPaginator","props","month","year","isOpen","ghost","popperPlacement","formatter","onChange","locale","useLocale","_a","useState","open","setOpen","_b","useStyles","createStyles","classes","container","ghostContainer","showMonth","popup","_c","visibleMonth","setVisibleMonth","useEffect","_d","visibleYear","setVisibleYear","_e","anchorRef","setAnchorRef","_f","popperRef","setPopperRef","_g","usePopper","placement","popperStyle","styles","popper","attributes","updateStates","newMonth","onPrevClick","currYear","newYear","onNextClick","onMonthClick","onVisibleMonthChange","handleShowMonthsClick","handleFocusOut","focus","baseYearDate","Date","yearFormatter","Intl","DateTimeFormat","getUserLocale","monthFormatter","getMonthShortFormat","default","createElement","FocusManagerContainer","onFocusOut","className","ref","HFlow","alignItems","Tooltip","text","calendar","previousMonth","Button","disabled","size","skin","onClick","Icon","icon","monthPaginator","show","style","Text","fontWeight","fontSize","format","nextMonth","MonthPicker","css","exports","defaultProps","getMonth","getFullYear","theme","display","padding","backgroundColor","pallete","surface","main","border","divider","boxShadow","shadows","outer","borderRadius","radius","margin","zIndex"],"sources":["../../../src/components/MonthPaginator/MonthPaginator.tsx"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}