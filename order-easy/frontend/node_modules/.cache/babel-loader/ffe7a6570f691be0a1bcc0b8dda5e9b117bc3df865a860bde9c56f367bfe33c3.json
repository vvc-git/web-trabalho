{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SelectSingle = void 0;\nvar react_1 = __importStar(require(\"react\"));\nvar useFormControl_1 = require(\"../../../hooks/useFormControl\");\nvar styles_1 = require(\"../../../styles\");\nvar react_2 = require(\"../../../util/react\");\nvar FormControl_1 = require(\"../../FormControl\");\nvar TextField_1 = require(\"../../TextField\");\nvar SelectDownshift_1 = require(\"./SelectDownshift\");\nvar SelectDownshiftMenu_1 = require(\"./SelectDownshiftMenu\");\nfunction SelectSingle(props) {\n  var value = props.value,\n    items = props.items,\n    itemToString = props.itemToString,\n    onChange = props.onChange,\n    isOpen = props.isOpen,\n    menuMinWidth = props.menuMinWidth,\n    openOnFocus = props.openOnFocus,\n    onFilterChange = props.onFilterChange,\n    createNewItem = props.createNewItem,\n    popperProps = props.popperProps,\n    loading = props.loading,\n    renderItem = props.renderItem,\n    components = props.components,\n    style = props.style,\n    label = props.label,\n    error = props.error,\n    inputRef = props.inputRef,\n    rest = __rest(props, [\"value\", \"items\", \"itemToString\", \"onChange\", \"isOpen\", \"menuMinWidth\", \"openOnFocus\", \"onFilterChange\", \"createNewItem\", \"popperProps\", \"loading\", \"renderItem\", \"components\", \"style\", \"label\", \"error\", \"inputRef\"]);\n  var internalInputRef = react_1.useRef();\n  var css = styles_1.useStyles().css;\n  var _a = useFormControl_1.useFormControl(props),\n    getFormControlProps = _a.getFormControlProps,\n    getFormControlInputProps = _a.getInputProps;\n  var formControlProps = getFormControlProps();\n  var inputProps = getFormControlInputProps();\n  var invalid = inputProps['aria-invalid'];\n  var handleInputIconClick = react_1.useCallback(function (isOpen) {\n    return function () {\n      if (!isOpen) {\n        internalInputRef.current.focus();\n      }\n    };\n  }, []);\n  return react_1.default.createElement(FormControl_1.FormControl, __assign({}, formControlProps), react_1.default.createElement(SelectDownshift_1.SelectDownshift, {\n    selectedItem: value || null,\n    items: items,\n    itemToString: itemToString,\n    onChange: onChange,\n    isOpen: isOpen,\n    openOnFocus: openOnFocus,\n    onFilterChange: onFilterChange,\n    createNewItem: createNewItem,\n    labelId: formControlProps.labelId\n  }, function (downshift) {\n    var downshiftOpen = downshift.isOpen,\n      getInputProps = downshift.getInputProps,\n      visibleItems = downshift.visibleItems,\n      inputValue = downshift.inputValue,\n      openMenu = downshift.openMenu,\n      toggleMenu = downshift.toggleMenu,\n      clearSelection = downshift.clearSelection;\n    var downshiftInputProps = getInputProps({\n      onBlur: react_2.composeHandlers(props.onBlur),\n      onFocus: react_2.composeHandlers(openMenu, props.onFocus),\n      onClick: react_2.composeHandlers(openMenu, props.onClick)\n    });\n    return react_1.default.createElement(\"div\", {\n      className: css(style)\n    }, react_1.default.createElement(\"div\", null, react_1.default.createElement(TextField_1.TextInput, __assign({\n      icon: downshiftOpen ? 'angleUp' : 'angleDown',\n      onIconClick: react_2.composeHandlers(toggleMenu, handleInputIconClick(downshiftOpen), props.onIconClick),\n      onClear: react_2.composeHandlers(clearSelection, props.onClear),\n      invalid: invalid\n    }, rest, downshiftInputProps, inputProps, {\n      inputRef: react_2.composeRefs(internalInputRef, inputRef),\n      value: inputValue ? inputValue : ''\n    }))), react_1.default.createElement(SelectDownshiftMenu_1.SelectDownshiftMenu, {\n      popperProps: popperProps,\n      anchorRef: internalInputRef,\n      menuMinWidth: menuMinWidth,\n      downshift: downshift,\n      items: visibleItems,\n      loading: loading,\n      renderItem: renderItem,\n      components: components,\n      createNewItem: !!createNewItem\n    }));\n  }));\n}\nexports.SelectSingle = SelectSingle;","map":{"version":3,"names":["react_1","__importStar","require","useFormControl_1","styles_1","react_2","FormControl_1","TextField_1","SelectDownshift_1","SelectDownshiftMenu_1","SelectSingle","props","value","items","itemToString","onChange","isOpen","menuMinWidth","openOnFocus","onFilterChange","createNewItem","popperProps","loading","renderItem","components","style","label","error","inputRef","rest","__rest","internalInputRef","useRef","css","useStyles","_a","useFormControl","getFormControlProps","getFormControlInputProps","getInputProps","formControlProps","inputProps","invalid","handleInputIconClick","useCallback","current","focus","default","createElement","FormControl","__assign","SelectDownshift","selectedItem","labelId","downshift","downshiftOpen","visibleItems","inputValue","openMenu","toggleMenu","clearSelection","downshiftInputProps","onBlur","composeHandlers","onFocus","onClick","className","TextInput","icon","onIconClick","onClear","composeRefs","SelectDownshiftMenu","anchorRef","exports"],"sources":["../../../../src/components/Select/SelectSingle/SelectSingle.tsx"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}