{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SelectMulti = void 0;\nvar react_1 = __importStar(require(\"react\"));\nvar useFormControl_1 = require(\"../../../hooks/useFormControl\");\nvar Checkbox_1 = require(\"../../Checkbox/Checkbox\");\nvar FormControl_1 = require(\"../../FormControl\");\nvar HFlow_1 = require(\"../../HFlow\");\nvar SelectDownshiftMenu_1 = require(\"../SelectSingle/SelectDownshiftMenu\");\nvar MultiDownshift_1 = require(\"./MultiDownshift\");\nvar SelectMultiInput_1 = require(\"./SelectMultiInput\");\nfunction SelectMulti(props) {\n  var value = props.value,\n    items = props.items,\n    itemToString = props.itemToString,\n    onChange = props.onChange,\n    isOpen = props.isOpen,\n    itemIsEqual = props.itemIsEqual,\n    onFilterChange = props.onFilterChange,\n    loading = props.loading,\n    externalRenderItem = props.renderItem,\n    components = props.components,\n    popperProps = props.popperProps,\n    placeholder = props.placeholder,\n    label = props.label,\n    error = props.error,\n    rest = __rest(props, [\"value\", \"items\", \"itemToString\", \"onChange\", \"isOpen\", \"itemIsEqual\", \"onFilterChange\", \"loading\", \"renderItem\", \"components\", \"popperProps\", \"placeholder\", \"label\", \"error\"]);\n  var inputWrapperRef = react_1.useRef();\n  var handleItemRemove = function (removeItem) {\n    return function (item) {\n      return removeItem(item);\n    };\n  };\n  var renderItem = function (_a) {\n    var isSelected = _a.isSelected;\n    return function (item) {\n      return react_1.default.createElement(HFlow_1.HFlow, {\n        hSpacing: 0.5,\n        alignItems: 'center'\n      }, react_1.default.createElement(Checkbox_1.Checkbox, {\n        style: {\n          pointerEvents: 'none'\n        },\n        checked: isSelected(item),\n        tabIndex: -1,\n        readOnly: true\n      }), externalRenderItem ? externalRenderItem(item) : itemToString(item));\n    };\n  };\n  //   const handleInputIconClick = ({ toggleMenu }: MultiSelectRenderProps<T>) => () => toggleMenu()\n  var handleInputClick = function (_a) {\n    var openMenu = _a.openMenu;\n    return function () {\n      return openMenu();\n    };\n  };\n  var handleInputBlur = function (_a) {\n    var closeMenu = _a.closeMenu;\n    return function (e) {\n      closeMenu();\n      props.onBlur && props.onBlur(e);\n    };\n  };\n  var handleInputFocus = function (_a) {\n    var openMenu = _a.openMenu;\n    return function (e) {\n      openMenu();\n      props.onFocus && props.onFocus(e);\n    };\n  };\n  var _a = useFormControl_1.useFormControl(props),\n    getFormControlProps = _a.getFormControlProps,\n    getFormControlInputProps = _a.getInputProps;\n  var formControlProps = getFormControlProps();\n  var inputProps = getFormControlInputProps();\n  var invalid = inputProps['aria-invalid'];\n  return react_1.default.createElement(FormControl_1.FormControl, __assign({}, formControlProps), react_1.default.createElement(MultiDownshift_1.MultiDownshift, {\n    selectedItems: value || [],\n    items: items,\n    itemToString: itemToString,\n    onChange: onChange,\n    isOpen: isOpen,\n    itemIsEqual: itemIsEqual,\n    onFilterChange: onFilterChange,\n    labelId: formControlProps.labelId\n  }, function (downshift) {\n    var\n      // isOpen,\n      getInputProps = downshift.getInputProps,\n      selectedItems = downshift.selectedItems,\n      removeItem = downshift.removeItem,\n      inputValue = downshift.inputValue,\n      visibleItems = downshift.visibleItems;\n    return react_1.default.createElement(\"div\", null, react_1.default.createElement(SelectMultiInput_1.SelectMultiInput, __assign({\n      wrapperRef: inputWrapperRef,\n      items: selectedItems\n    }, rest, {\n      placeholder: !selectedItems || selectedItems.length === 0 ? placeholder : undefined,\n      onClick: handleInputClick(downshift),\n      onRemoveItem: handleItemRemove(removeItem),\n      renderItem: itemToString\n    }, getInputProps({\n      onBlur: handleInputBlur(downshift),\n      onFocus: handleInputFocus(downshift)\n    }), inputProps, {\n      value: inputValue ? inputValue : '',\n      invalid: invalid\n    })), react_1.default.createElement(SelectDownshiftMenu_1.SelectDownshiftMenu, {\n      popperProps: popperProps,\n      anchorRef: inputWrapperRef,\n      downshift: downshift,\n      items: visibleItems,\n      loading: loading,\n      components: components,\n      renderItem: renderItem(downshift)\n    }));\n  }));\n}\nexports.SelectMulti = SelectMulti;","map":{"version":3,"names":["react_1","__importStar","require","useFormControl_1","Checkbox_1","FormControl_1","HFlow_1","SelectDownshiftMenu_1","MultiDownshift_1","SelectMultiInput_1","SelectMulti","props","value","items","itemToString","onChange","isOpen","itemIsEqual","onFilterChange","loading","externalRenderItem","renderItem","components","popperProps","placeholder","label","error","rest","__rest","inputWrapperRef","useRef","handleItemRemove","removeItem","item","_a","isSelected","default","createElement","HFlow","hSpacing","alignItems","Checkbox","style","pointerEvents","checked","tabIndex","readOnly","handleInputClick","openMenu","handleInputBlur","closeMenu","e","onBlur","handleInputFocus","onFocus","useFormControl","getFormControlProps","getFormControlInputProps","getInputProps","formControlProps","inputProps","invalid","FormControl","__assign","MultiDownshift","selectedItems","labelId","downshift","inputValue","visibleItems","SelectMultiInput","wrapperRef","length","undefined","onClick","onRemoveItem","SelectDownshiftMenu","anchorRef","exports"],"sources":["../../../../src/components/Select/SelectMulti/SelectMulti.tsx"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}