{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createStyles = exports.disableByWeekRange = exports.DateRangePicker = void 0;\nvar react_1 = __importStar(require(\"react\"));\nvar react_popper_1 = require(\"react-popper\");\nvar styles_1 = require(\"../../styles\");\nvar DateField_1 = require(\"../DateField/DateField\");\nvar FocusManagerContainer_1 = require(\"../FocusManagerContainer\");\nvar ControlledDateRangeCalendar_1 = require(\"../Calendar/RangeCalendar/DateRangeCalendar/ControlledDateRangeCalendar\");\nvar DateRangePickerInput_1 = require(\"./DateRangePickerInput\");\nfunction DateRangePicker(props) {\n  var onChange = props.onChange,\n    popperProps = props.popperProps,\n    minDate = props.minDate,\n    maxDate = props.maxDate,\n    value = props.value,\n    icon = props.icon,\n    calendarProps = props.calendarProps,\n    onFocus = props.onFocus,\n    onBlur = props.onBlur,\n    onlyWeeks = props.onlyWeeks,\n    rest = __rest(props, [\"onChange\", \"popperProps\", \"minDate\", \"maxDate\", \"value\", \"icon\", \"calendarProps\", \"onFocus\", \"onBlur\", \"onlyWeeks\"]);\n  var _a = react_1.useState(1),\n    dateRangeInputFocus = _a[0],\n    setDateRangeInputFocus = _a[1];\n  var _b = react_1.useState(new Date()),\n    visibleDate = _b[0],\n    setVisibleDate = _b[1];\n  var _c = react_1.useState(false),\n    open = _c[0],\n    setOpen = _c[1];\n  var _d = styles_1.useStyles(exports.createStyles),\n    classes = _d.classes,\n    css = _d.css;\n  var finalInputRef = react_1.useRef();\n  var _e = react_1.useState(),\n    anchorRef = _e[0],\n    setAnchorRef = _e[1];\n  var _f = react_1.useState(),\n    popupRef = _f[0],\n    setPopupRef = _f[1];\n  react_1.useEffect(function () {\n    var point = function () {\n      if (dateRangeInputFocus === 1 && (value === null || value === void 0 ? void 0 : value.startDate)) {\n        return value.startDate;\n      } else if (dateRangeInputFocus === 2 && (value === null || value === void 0 ? void 0 : value.endDate)) {\n        return value.endDate;\n      } else if ((value === null || value === void 0 ? void 0 : value.startDate) && !(value === null || value === void 0 ? void 0 : value.endDate)) {\n        return value.startDate;\n      } else if (!(value === null || value === void 0 ? void 0 : value.startDate) && (value === null || value === void 0 ? void 0 : value.endDate)) {\n        return value.endDate;\n      } else {\n        return new Date();\n      }\n    };\n    setVisibleDate(point);\n  }, [dateRangeInputFocus, value]);\n  var _g = react_popper_1.usePopper(anchorRef, popupRef, __assign(__assign({}, popperProps), {\n      placement: 'bottom'\n    })),\n    popperStyle = _g.styles.popper,\n    placement = _g.attributes.placement;\n  var handleInputFocus = function (inputOnFocus) {\n    return setDateRangeInputFocus(inputOnFocus);\n  };\n  var handleOnDayClick = function (dayClicked) {\n    return finalInputRef.current.focus();\n  };\n  var handleFocusIn = function (event) {\n    onFocus && onFocus(event);\n    setOpen(true);\n  };\n  var handleFocusOut = function (event) {\n    onBlur && onBlur(event);\n    setOpen(false);\n  };\n  var handleDateRangeChanged = function (rangeDateFromBaseInput) {\n    onChange(rangeDateFromBaseInput);\n  };\n  var handleCalendarDateRangeChanged = function (dateRange) {\n    var startDate = dateRange.startDate,\n      endDate = dateRange.endDate;\n    startDate && endDate ? startDate <= endDate ? onChange({\n      startDate: startDate,\n      endDate: endDate\n    }) : onChange({\n      startDate: endDate,\n      endDate: startDate\n    }) : onChange({\n      startDate: startDate,\n      endDate: endDate\n    });\n  };\n  var handleOnVisibleDateChange = function (vDate) {\n    return setVisibleDate(vDate);\n  };\n  return react_1.default.createElement(FocusManagerContainer_1.FocusManagerContainer, {\n    onFocusIn: handleFocusIn,\n    onFocusOut: handleFocusOut\n  }, react_1.default.createElement(DateRangePickerInput_1.DateRangePickerInput, __assign({\n    value: value,\n    onChange: handleDateRangeChanged,\n    divRef: setAnchorRef,\n    minDate: minDate,\n    maxDate: maxDate,\n    icon: icon,\n    finalInputRef: finalInputRef,\n    onInputOnFocus: handleInputFocus\n  }, rest)), open && react_1.default.createElement(\"div\", {\n    ref: setPopupRef,\n    className: css(classes.root, popperStyle),\n    \"data-placement\": placement,\n    tabIndex: -1\n  }, react_1.default.createElement(ControlledDateRangeCalendar_1.ControlledDateRangeCalendar, __assign({\n    value: value,\n    onChange: handleCalendarDateRangeChanged,\n    onDayClick: handleOnDayClick,\n    inputOnFocus: dateRangeInputFocus,\n    visibleDate: visibleDate,\n    onVisibleDateChange: handleOnVisibleDateChange,\n    minDate: minDate,\n    maxDate: maxDate,\n    modifiers: {\n      disabled: onlyWeeks ? exports.disableByWeekRange(minDate, maxDate) : DateField_1.disableByRange(minDate, maxDate)\n    },\n    onlyWeeks: onlyWeeks\n  }, calendarProps))));\n}\nexports.DateRangePicker = DateRangePicker;\nDateRangePicker.defaultProps = {\n  onlyWeeks: false,\n  icon: 'calendarOutline'\n};\nexports.disableByWeekRange = function (minDate, maxDate) {\n  var realMinDate = new Date(minDate);\n  realMinDate.setHours(0, 0, 0, 0);\n  var realMaxDate = new Date(maxDate);\n  realMaxDate.setHours(23, 59, 59, 999);\n  return function (week) {\n    return minDate && week.start < realMinDate || maxDate && week.end > realMaxDate;\n  };\n};\nexports.createStyles = function (theme) {\n  return {\n    root: {\n      zIndex: theme.zIndex.popper,\n      background: theme.pallete.surface.main,\n      boxShadow: theme.shadows.outer[40],\n      borderRadius: theme.radius.popper,\n      padding: '0.5rem .25rem .25rem .25rem',\n      outline: 'none'\n    }\n  };\n};","map":{"version":3,"names":["react_1","__importStar","require","react_popper_1","styles_1","DateField_1","FocusManagerContainer_1","ControlledDateRangeCalendar_1","DateRangePickerInput_1","DateRangePicker","props","onChange","popperProps","minDate","maxDate","value","icon","calendarProps","onFocus","onBlur","onlyWeeks","rest","__rest","_a","useState","dateRangeInputFocus","setDateRangeInputFocus","_b","Date","visibleDate","setVisibleDate","_c","open","setOpen","_d","useStyles","exports","createStyles","classes","css","finalInputRef","useRef","_e","anchorRef","setAnchorRef","_f","popupRef","setPopupRef","useEffect","point","startDate","endDate","_g","usePopper","__assign","placement","popperStyle","styles","popper","attributes","handleInputFocus","inputOnFocus","handleOnDayClick","dayClicked","current","focus","handleFocusIn","event","handleFocusOut","handleDateRangeChanged","rangeDateFromBaseInput","handleCalendarDateRangeChanged","dateRange","handleOnVisibleDateChange","vDate","default","createElement","FocusManagerContainer","onFocusIn","onFocusOut","DateRangePickerInput","divRef","onInputOnFocus","ref","className","root","tabIndex","ControlledDateRangeCalendar","onDayClick","onVisibleDateChange","modifiers","disabled","disableByWeekRange","disableByRange","defaultProps","realMinDate","setHours","realMaxDate","week","start","end","theme","zIndex","background","pallete","surface","main","boxShadow","shadows","outer","borderRadius","radius","padding","outline"],"sources":["../../../src/components/DateRangePicker/DateRangePicker.tsx"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}