{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BaseDateRangeInput = void 0;\nvar react_1 = __importDefault(require(\"react\"));\nvar react_2 = require(\"react\");\nvar i18n_1 = require(\"../../i18n\");\nvar styles_1 = require(\"../../styles\");\nvar react_3 = require(\"../../util/react\");\nvar DateField_1 = require(\"../DateField\");\nvar Icon_1 = require(\"../Icon\");\nvar __1 = require(\"..\");\nfunction BaseDateRangeInput(props) {\n  var clearable = props.clearable,\n    disabled = props.disabled,\n    divRef = props.divRef,\n    icon = props.icon,\n    initialInputRef = props.initialInputRef,\n    finalInputRef = props.finalInputRef,\n    maxDate = props.maxDate,\n    minDate = props.minDate,\n    name = props.name,\n    onChange = props.onChange,\n    onIconClick = props.onIconClick,\n    onInputOnFocus = props.onInputOnFocus,\n    rangeSeparator = props.rangeSeparator,\n    value = props.value,\n    style = props.style,\n    rest = __rest(props, [\"clearable\", \"disabled\", \"divRef\", \"icon\", \"initialInputRef\", \"finalInputRef\", \"maxDate\", \"minDate\", \"name\", \"onChange\", \"onIconClick\", \"onInputOnFocus\", \"rangeSeparator\", \"value\", \"style\"]);\n  var firstDateFieldRef = react_2.useRef();\n  var secondDateFieldRef = react_2.useRef();\n  var _a = styles_1.useStyles(createStyles, disabled),\n    classes = _a.classes,\n    css = _a.css;\n  var className = css(classes.div, props.invalid && classes.invalid, props.style);\n  var handleMinMaxDates = function (date) {\n    if (minDate && maxDate) {\n      return date && date >= minDate && date <= maxDate ? date : undefined;\n    }\n    if (minDate) {\n      return date && date >= minDate ? date : undefined;\n    }\n    if (maxDate) {\n      return date && date <= maxDate ? date : undefined;\n    }\n    return date;\n  };\n  var onChangeStart = function (date) {\n    var startDate = handleMinMaxDates(date);\n    var endDate = (value === null || value === void 0 ? void 0 : value.startDate) && (value === null || value === void 0 ? void 0 : value.endDate) && startDate && startDate > (value === null || value === void 0 ? void 0 : value.endDate) ? undefined : value === null || value === void 0 ? void 0 : value.endDate;\n    var aux = {\n      startDate: startDate,\n      endDate: endDate\n    };\n    onChange && onChange(aux);\n    if (startDate) {\n      secondDateFieldRef.current.focus();\n    }\n  };\n  var onChangeFinal = function (date) {\n    var auxFinalDate = handleMinMaxDates(date);\n    var startDate = (value === null || value === void 0 ? void 0 : value.startDate) && (value === null || value === void 0 ? void 0 : value.endDate) && auxFinalDate && auxFinalDate < (value === null || value === void 0 ? void 0 : value.startDate) ? auxFinalDate : value === null || value === void 0 ? void 0 : value.startDate;\n    var endDate = (value === null || value === void 0 ? void 0 : value.startDate) && (value === null || value === void 0 ? void 0 : value.endDate) && auxFinalDate && auxFinalDate < (value === null || value === void 0 ? void 0 : value.startDate) ? undefined : auxFinalDate;\n    var aux = {\n      startDate: startDate,\n      endDate: endDate\n    };\n    onChange && onChange(aux);\n  };\n  var onClearStart = function () {\n    var aux = {\n      startDate: undefined,\n      endDate: value.endDate\n    };\n    onChange && onChange(aux);\n    firstDateFieldRef.current.focus();\n  };\n  var onClearFinal = function () {\n    var aux = {\n      startDate: value.startDate,\n      endDate: undefined\n    };\n    onChange && onChange(aux);\n    secondDateFieldRef.current.focus();\n  };\n  var defaultHandleOnClick = function () {\n    return firstDateFieldRef.current.focus();\n  };\n  var onInputOnFocusInicial = function () {\n    return onInputOnFocus && onInputOnFocus(1);\n  };\n  var onInputOnFocusFinal = function () {\n    return onInputOnFocus && onInputOnFocus(2);\n  };\n  var handleIconClick = onIconClick ? onIconClick : defaultHandleOnClick;\n  var locale = i18n_1.useLocale();\n  return react_1.default.createElement(\"div\", {\n    ref: divRef\n  }, react_1.default.createElement(\"div\", {\n    className: className\n  }, react_1.default.createElement(\"div\", {\n    className: classes.fieldWrapper\n  }, react_1.default.createElement(DateField_1.DateInput, __assign({\n    clearable: clearable,\n    name: name ? name + \".startDate\" : 'startDate',\n    disabled: disabled,\n    inputRef: react_3.composeRefs(firstDateFieldRef, initialInputRef),\n    onChange: onChangeStart,\n    onClear: onClearStart,\n    placeholder: locale.dateInput.placeholder,\n    style: classes.dateField,\n    value: value === null || value === void 0 ? void 0 : value.startDate,\n    onFocus: onInputOnFocusInicial\n  }, rest))), react_1.default.createElement(\"span\", {\n    className: classes.spanWrapper\n  }, react_1.default.createElement(\"strong\", null, rangeSeparator ? rangeSeparator : locale.dateRangeField.separator)), react_1.default.createElement(\"div\", {\n    className: classes.fieldWrapper\n  }, react_1.default.createElement(DateField_1.DateInput, __assign({\n    clearable: clearable,\n    name: name ? name + \".endDate\" : 'endDate',\n    disabled: disabled,\n    inputRef: react_3.composeRefs(secondDateFieldRef, finalInputRef),\n    onChange: onChangeFinal,\n    onClear: onClearFinal,\n    placeholder: locale.dateInput.placeholder,\n    style: classes.dateField,\n    value: value === null || value === void 0 ? void 0 : value.endDate,\n    onFocus: onInputOnFocusFinal\n  }, rest))), react_1.default.createElement(\"span\", {\n    className: classes.iconWrapper\n  }, react_1.default.createElement(__1.Button, {\n    size: 'small',\n    skin: 'ghost',\n    tabIndex: -1,\n    onClick: handleIconClick,\n    style: classes.icon,\n    disabled: disabled\n  }, react_1.default.createElement(Icon_1.Icon, {\n    icon: icon\n  })))));\n}\nexports.BaseDateRangeInput = BaseDateRangeInput;\nBaseDateRangeInput.defaultProps = {\n  icon: 'calendarOutline',\n  clearable: true\n};\nvar createStyles = function (theme, disabled) {\n  var divStyle = createBaseDivStyle(theme);\n  return {\n    div: __assign(__assign({}, divStyle.base), {\n      ':not(:disabled):hover': divStyle.hover,\n      ':not(:disabled):active': divStyle.active,\n      ':focus-within': {\n        ':not(:disabled)': divStyle.focus\n      },\n      background: disabled && theme.pallete.surface.background\n    }),\n    invalid: divStyle.invalid,\n    spanWrapper: {\n      alignItems: 'center',\n      background: 'transparent',\n      color: disabled && theme.pallete.text.disabled,\n      cursor: 'default',\n      display: 'flex',\n      position: 'relative'\n    },\n    dateField: {\n      border: 'none',\n      '::placeholder': {\n        color: theme.pallete.text.secondary\n      },\n      '&:focus': {\n        boxShadow: 'none !important'\n      }\n    },\n    fieldWrapper: {\n      flex: 1\n    },\n    icon: {\n      padding: 'calc(0.25rem - 2px) calc(0.5rem - 1px)',\n      borderRadius: 'inherit',\n      '&:focus': {\n        boxShadow: 'none'\n      }\n    },\n    iconWrapper: {\n      backgroundColor: theme.pallete.gray.c90,\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      width: '2.5rem',\n      borderTopRightRadius: 1,\n      borderBottomRightRadius: 1\n    }\n  };\n};\nvar createBaseDivStyle = function (theme) {\n  return {\n    base: {\n      backgroundColor: theme.pallete.surface.main,\n      border: '1px solid' + theme.pallete.gray.c70,\n      borderRadius: theme.radius.input,\n      cursor: 'default',\n      display: 'flex',\n      position: 'relative',\n      transition: 'box-shadow .2s ease',\n      '&:required': {\n        boxShadow: 'none'\n      }\n    },\n    active: {\n      borderColor: theme.pallete.primary.main,\n      boxShadow: '0 2px 4px 0 rgba(0, 0, 0, 0.09)'\n    },\n    focus: {\n      boxShadow: styles_1.focusBoxShadow(theme),\n      outline: 'none'\n    },\n    hover: {\n      borderColor: theme.pallete.gray.c60\n    },\n    invalid: {\n      border: 'solid 1px ' + theme.pallete.status.danger.main,\n      '&:focus-within': {\n        ':not(:disabled)': {\n          border: 'solid 1px ' + theme.pallete.gray.c80,\n          boxShadow: styles_1.focusBoxShadow(theme, 'danger')\n        }\n      }\n    }\n  };\n};\n//# sourceMappingURL=BaseDateRangeInput.js.map","map":null,"metadata":{},"sourceType":"script","externalDependencies":[]}