{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useAsyncSelect = void 0;\nvar react_1 = require(\"react\");\nvar util_1 = require(\"../../util\");\nfunction useAsyncSelect(loadItems, debounceMs) {\n  if (debounceMs === void 0) {\n    debounceMs = 350;\n  }\n  var _a = react_1.useState(false),\n    loading = _a[0],\n    setLoading = _a[1];\n  var _b = react_1.useState([]),\n    items = _b[0],\n    setItems = _b[1];\n  var load = react_1.useCallback(function (filter) {\n    setLoading(true);\n    loadItems(filter).then(function (loadedItems) {\n      return setItems(loadedItems);\n    }).finally(function () {\n      return setLoading(false);\n    });\n  }, [loadItems]);\n  var debouncedLoad = react_1.useMemo(function () {\n    return util_1.debounce(load, debounceMs);\n  }, [load]);\n  var handleFilterChange = function (filter) {\n    setLoading(true);\n    return debouncedLoad(filter);\n  };\n  return {\n    getSelectProps: function () {\n      return {\n        items: items,\n        loading: loading,\n        onFilterChange: handleFilterChange\n      };\n    }\n  };\n}\nexports.useAsyncSelect = useAsyncSelect;","map":{"version":3,"names":["react_1","require","util_1","useAsyncSelect","loadItems","debounceMs","_a","useState","loading","setLoading","_b","items","setItems","load","useCallback","filter","then","loadedItems","finally","debouncedLoad","useMemo","debounce","handleFilterChange","getSelectProps","onFilterChange","exports"],"sources":["../../../src/components/Select/useAsyncSelect.ts"],"sourcesContent":[null],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,OAAA;AAEA,IAAAC,MAAA,GAAAD,OAAA;AAUA,SAAgBE,cAAcA,CAAIC,SAA+B,EAAEC,UAAgB;EAAhB,IAAAA,UAAA;IAAAA,UAAA,MAAgB;EAAA;EAC3E,IAAAC,EAAA,GAAwBN,OAAA,CAAAO,QAAQ,CAAC,KAAK,CAAC;IAAtCC,OAAO,GAAAF,EAAA;IAAEG,UAAU,GAAAH,EAAA,GAAmB;EACvC,IAAAI,EAAA,GAAoBV,OAAA,CAAAO,QAAQ,CAAM,EAAE,CAAC;IAApCI,KAAK,GAAAD,EAAA;IAAEE,QAAQ,GAAAF,EAAA,GAAqB;EAE3C,IAAMG,IAAI,GAAGb,OAAA,CAAAc,WAAW,CACtB,UAACC,MAAc;IACbN,UAAU,CAAC,IAAI,CAAC;IAChBL,SAAS,CAACW,MAAM,CAAC,CACdC,IAAI,CAAC,UAAAC,WAAW;MAAI,OAAAL,QAAQ,CAACK,WAAW,CAAC;IAArB,CAAqB,CAAC,CAC1CC,OAAO,CAAC;MAAM,OAAAT,UAAU,CAAC,KAAK,CAAC;IAAjB,CAAiB,CAAC;EACrC,CAAC,EACD,CAACL,SAAS,CAAC,CACZ;EAED,IAAMe,aAAa,GAAGnB,OAAA,CAAAoB,OAAO,CAAC;IAAM,OAAAlB,MAAA,CAAAmB,QAAQ,CAACR,IAAI,EAAER,UAAU,CAAC;EAA1B,CAA0B,EAAE,CAACQ,IAAI,CAAC,CAAC;EAEvE,IAAMS,kBAAkB,GAAG,SAAAA,CAACP,MAAc;IACxCN,UAAU,CAAC,IAAI,CAAC;IAChB,OAAOU,aAAa,CAACJ,MAAM,CAAC;EAC9B,CAAC;EAED,OAAO;IACLQ,cAAc,EAAE,SAAAA,CAAA;MAAM,OAAC;QACrBZ,KAAK,EAAAA,KAAA;QACLH,OAAO,EAAAA,OAAA;QACPgB,cAAc,EAAEF;OACjB;IAJqB;GAKvB;AACH;AA5BAG,OAAA,CAAAtB,cAAA,GAAAA,cAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}